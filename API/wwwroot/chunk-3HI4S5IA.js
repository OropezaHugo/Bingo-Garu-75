import{a as H,b as J}from"./chunk-IOW2URJ3.js";import{a as q}from"./chunk-YC5VOW7R.js";import{a as f}from"./chunk-Z5OLNT4A.js";import{d as $}from"./chunk-SKXK7KA7.js";import{b as T,g as O,j}from"./chunk-655M5PPB.js";import{D as A,E as u,l as S,m as V}from"./chunk-P2K7FNZD.js";import{k as L}from"./chunk-LTQGHVNP.js";import"./chunk-4VZRQQ4V.js";import{b as k,g as D,k as N,n as w,o as B,s as E,w as G,x as l}from"./chunk-QVV4KUCD.js";import"./chunk-2PPFUFFT.js";import{Ab as c,Gb as g,Hb as v,Jb as b,Kb as M,Lb as o,Mb as r,Nb as d,Ub as I,Wb as x,Ya as p,ca as a,fc as m,gc as z,kb as s,qb as C,xa as P}from"./chunk-42JAANS2.js";import"./chunk-C6Q5SG76.js";var _=class e{gameService=a(u);roundService=a(f);roundId=P.required();roundPattern=P.required();amountForm=new N(0);snackBar=a(A);ngOnInit(){this.amountForm.setValue(this.roundPattern().targetPrice),this.roundService.getRounds()}updatePrize(){let n=this.amountForm.value;n!==null&&(this.roundService.updatePatternInRound({id:this.roundPattern().id,patternName:this.roundPattern().patternName,patternMatrix:this.roundPattern().patternMatrix,active:this.roundPattern().active,targetPrice:n},this.roundId()).subscribe(),this.snackBar.success(`premio registrado: ${n}Bs`))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=s({type:e,selectors:[["app-pattern-prizable"]],inputs:{roundId:[1,"roundId"],roundPattern:[1,"roundPattern"]},decls:10,vars:4,consts:[[1,"pattern-data-div"],[3,"editable","pattern"],[1,"pattern-name-text"],["appearance","outline"],["matInput","","type","number","min","0",3,"formControl"],["mat-stroked-button","",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0),d(1,"app-pattern-card",1),o(2,"h3",2),m(3),r(),o(4,"mat-form-field",3)(5,"mat-label"),m(6,"premio objetivo(Bs)"),r(),d(7,"input",4),r(),o(8,"button",5),I("click",function(){return i.updatePrize()}),m(9,"guardar"),r()()),t&2&&(p(),c("editable",!1)("pattern",i.roundPattern().patternMatrix),p(2),z(i.roundPattern().patternName),p(4),c("formControl",i.amountForm))},dependencies:[S,T,q,O,j,l,k,w,D,E,B],styles:[".pattern-data-div[_ngcontent-%COMP%]{border-radius:.5rem;display:flex;flex-direction:column;max-width:196px;align-items:center;padding:.5rem}"]})};function U(e,n){if(e&1&&d(0,"app-pattern-prizable",2),e&2){let t=n.$implicit,i=x();c("roundPattern",t)("roundId",i.round().id)}}var h=class e{gameService=a(u);roundService=a(f);round=P.required();roundPatterns=[];ngOnInit(){this.roundService.getPatternsInfoByRoundId(this.round().id).subscribe({next:n=>{this.roundPatterns=n}}),this.roundService.getRounds()}reloadRoundPatterns(){this.roundService.getPatternsInfoByRoundId(this.round().id).subscribe({next:n=>{this.roundPatterns=n}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=s({type:e,selectors:[["app-round-pattern-info"]],inputs:{round:[1,"round"]},decls:6,vars:0,consts:[["mat-icon-button","",3,"click"],[1,"in-game-patterns"],[3,"roundPattern","roundId"]],template:function(t,i){t&1&&(o(0,"button",0),I("click",function(){return i.reloadRoundPatterns()}),o(1,"mat-icon"),m(2,"refresh"),r()(),o(3,"div",1),b(4,U,1,2,"app-pattern-prizable",2,v),r()),t&2&&(p(4),M(i.roundPatterns))},dependencies:[L,V,l,_],styles:[".in-game-patterns[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-y:scroll;overflow-x:hidden;max-width:100%;max-height:700px;place-items:center;gap:2rem;flex-wrap:wrap;padding:0 1rem}"]})};function W(e,n){if(e&1&&(o(0,"mat-tab",1)(1,"div"),d(2,"app-round-pattern-info",2),r()()),e&2){let t=x().$implicit;c("label",t.roundName),p(2),c("round",t)}}function X(e,n){if(e&1&&C(0,W,3,2,"mat-tab",1),e&2){let t=n.$implicit;g(t.id?0:-1)}}var R=class e{gameService=a(u);roundService=a(f);ngOnInit(){this.roundService.getRounds()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=s({type:e,selectors:[["app-game-pattern-info"]],decls:5,vars:0,consts:[[1,"pattern-section-title"],[3,"label"],[3,"round"]],template:function(t,i){t&1&&(o(0,"h1",0),m(1,"Patrones a premiar"),r(),o(2,"mat-tab-group"),b(3,X,1,1,null,null,v),r()),t&2&&(p(3),M(i.roundService.actualRounds()))},dependencies:[l,h,J,H],styles:[".pattern-name-text[_ngcontent-%COMP%]{color:#fca311}.pattern-section-title[_ngcontent-%COMP%]{color:#7b2cbf}.pattern-data-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.pattern-prize-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;place-content:space-between;align-items:center}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin:.1rem}"]})};function Y(e,n){e&1&&(o(0,"h2"),m(1,"Primero adjunta almenos 1 patron para adjuntar un premio objetivo"),r())}function Z(e,n){e&1&&(d(0,"app-game-pattern-info"),o(1,"div",0)(2,"button",1),m(3,"Siguiente"),r()())}var K=class e{gameService=a(u);roundService=a(f);ngOnInit(){this.roundService.getRounds(),this.gameService.getCardsByGameId()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=s({type:e,selectors:[["app-pattern-target-prize-section"]],decls:2,vars:1,consts:[[1,"next-step-div"],["mat-raised-button","","matStepperNext",""]],template:function(t,i){t&1&&C(0,Y,2,0,"h2")(1,Z,4,0),t&2&&g(i.roundService.actualRounds().length<1?0:1)},dependencies:[G,R,l,S,$],styles:[".next-step-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;place-content:end}"]})};export{K as PatternTargetPrizesComponent};
