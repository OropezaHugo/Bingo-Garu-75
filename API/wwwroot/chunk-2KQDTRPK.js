import{a as V}from"./chunk-6FW3P3CY.js";import{c as h}from"./chunk-LW5SQD3T.js";import{a as E}from"./chunk-5UZ3WL22.js";import{a as z}from"./chunk-Z5OLNT4A.js";import{d as _}from"./chunk-SKXK7KA7.js";import{e as D}from"./chunk-FX4T5NY5.js";import{b as v,c as g,g as b,j as N}from"./chunk-655M5PPB.js";import{D as B,E as w,l as k}from"./chunk-P2K7FNZD.js";import"./chunk-LTQGHVNP.js";import"./chunk-4VZRQQ4V.js";import{b as C,d as s,g as F,i as G,k as m,n as S,o as x,r as M,s as R,w as y,x as P}from"./chunk-QVV4KUCD.js";import"./chunk-2PPFUFFT.js";import{Ab as i,Lb as e,Mb as o,Nb as p,Ub as f,Ya as a,ca as t,fc as r,kb as c}from"./chunk-42JAANS2.js";import"./chunk-C6Q5SG76.js";var I=class d{gameService=t(w);roundService=t(z);snackBar=t(B);dialog=t(D);router=t(h);roundsFormGroup=new G({roundNumber:new m(1,[s.required,s.min(1),s.max(5)]),hasBonus:new m(!1),automaticRaffle:new m(!1),sharedPrizes:new m(!1)});createRounds(){this.dialog.open(E,{data:!1}).afterClosed().subscribe(l=>{l&&(this.roundsFormGroup.valid&&this.roundsFormGroup.value.roundNumber&&this.roundsFormGroup.value.hasBonus!==void 0&&this.roundsFormGroup.value.hasBonus!==null&&this.roundsFormGroup.value.automaticRaffle!==void 0&&this.roundsFormGroup.value.automaticRaffle!==null&&this.roundsFormGroup.value.sharedPrizes!==void 0&&this.roundsFormGroup.value.sharedPrizes!==null?(this.roundService.postRounds({roundQuantity:this.roundsFormGroup.value.roundNumber,hasBonusRound:this.roundsFormGroup.value.hasBonus}),this.gameService.updateGame({inProgress:!1,finished:!1,id:this.gameService.actualGame().id,automaticRaffle:this.roundsFormGroup.value.automaticRaffle,sharePrizes:this.roundsFormGroup.value.sharedPrizes,randomPatterns:this.gameService.actualGame().randomPatterns})):this.snackBar.error("configuracion invalida"))})}static \u0275fac=function(u){return new(u||d)};static \u0275cmp=c({type:d,selectors:[["app-game-configuration"]],decls:18,vars:4,consts:[[1,"game-config-form"],["appearance","outline"],["matInput","","type","number","min","1","max","5",3,"formControl"],[3,"formControl"],["mat-raised-button","",3,"click"],[1,"next-step-div"],["mat-raised-button","","matStepperNext",""]],template:function(u,n){u&1&&(e(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),r(3,"N\xFAmero de rondas"),o(),p(4,"input",2),e(5,"mat-hint"),r(6,"1 - 5"),o()(),e(7,"mat-checkbox",3),r(8," Incluir ronda bonus "),o(),e(9,"mat-checkbox",3),r(10," activar tombola automatica "),o(),e(11,"mat-checkbox",3),r(12," activar premios compartidos "),o(),e(13,"button",4),f("click",function(){return n.createRounds()}),r(14,"Confirmar Configuracion"),o()(),e(15,"div",5)(16,"button",6),r(17,"Siguiente"),o()()),u&2&&(a(4),i("formControl",n.roundsFormGroup.controls.roundNumber),a(3),i("formControl",n.roundsFormGroup.controls.hasBonus),a(2),i("formControl",n.roundsFormGroup.controls.automaticRaffle),a(2),i("formControl",n.roundsFormGroup.controls.sharedPrizes))},dependencies:[y,C,S,F,R,M,b,N,v,V,P,x,k,g,_],styles:[".game-config-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;place-items:center;padding:1rem 0}.next-step-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;place-content:end}"]})};export{I as GameConfigurationComponent};
