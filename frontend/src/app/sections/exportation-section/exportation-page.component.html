<div class="cards-per-page-control">
  <div class="input-group">
    <label for="cardsPerPage">Cartas por página:</label>
    <input
      type="number"
      id="cardsPerPage"
      [ngModel]="cardsPerPage"
      (ngModelChange)="updateCardsPerPage($event)"
      min="1"
      max="1000"
      class="cards-per-page-input">
  </div>
  <div class="warning-message">
    <i class="warning-icon">⚠️</i>
    <span>Por defecto son 100 cartas por página (recomendado).
      Aumentar este número puede ralentizar la aplicación y la generación del PDF.
      Máximo permitido: 1000.</span>
  </div>
</div>


<div class="pagination">
  @for (page of paginatedCards; track $index) {
    <button (click)="exportToPDF($index)">
      Export Page {{ $index + 1 }}
    </button>
  }
</div>

@if (isExporting) {
  <div class="export-progress">
    <p>{{ statusMessage }}</p>
    <mat-progress-bar
      mode="indeterminate"
      color="primary">
    </mat-progress-bar>
  </div>
}
<div class="export-container">
  <div #cardsGrid class="card-grid">
    @for (card of displayedCards; track $index) {
      <app-personal-bingo-card
        [card]="card"
        [serialId]="currentPage * cardsPerPage + $index + 1">
      </app-personal-bingo-card>
    }
  </div>
</div>
