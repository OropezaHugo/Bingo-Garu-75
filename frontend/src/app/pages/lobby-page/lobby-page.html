<div class="lobby-actions">
  <button class="icon-button-settings" mat-icon-button (click)="openSettingsDialog()"><mat-icon>settings</mat-icon></button>
</div>
<mat-stepper >
    <mat-step>
      <ng-template matStepLabel>Adjuntar serial</ng-template>
      @defer (on viewport) {
      <app-attach-serial-content [useToGenerate]="false"/>
      } @placeholder {
        <h1>Loading</h1>
      }
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Adjuntar patrones</ng-template>
      @defer (on viewport) {
      <app-game-pattern-section-list/>
      <app-pattern-list-component [inGame]="true"/>
      } @placeholder {
        <h1>Loading</h1>
      }
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Venta de Seriales</ng-template>
      @defer (on viewport) {
      <app-sale-panel/>
      } @placeholder {
        <h1>Loading</h1>
      }
    </mat-step>
  <mat-step>
    <ng-template matStepLabel>Ajustes y Exportacion</ng-template>
    @defer (on viewport) {
      <div>
        <button mat-button (click)="toggleView()" class="toggle-btn">
          <mat-icon>swap_horiz</mat-icon>
          {{ personalization ? 'Cambiar a Exportación' : 'Cambiar a Personalización' }}
        </button>

        @if (personalization) {
          <app-personalization-section></app-personalization-section>
        } @else {
          <app-exportation-section></app-exportation-section>
        }
      </div>
    } @placeholder {
      <h1>Loading</h1>
    }
  </mat-step>
    <mat-step>
      <ng-template matStepLabel>Adjuntar premios</ng-template>
      @defer (on viewport) {
      <app-pattern-target-prize-section>></app-pattern-target-prize-section>
      } @placeholder {
        <h1>Loading</h1>
      }
    </mat-step>
</mat-stepper>


