
<mat-stepper >
    <mat-step>
      <ng-template matStepLabel>Adjuntar serial</ng-template>
      @defer (on viewport) {
      <app-attach-serial-content [useToGenerate]="false"/>
      } @placeholder {
        <h1>Loading</h1>
      }
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Adjuntar patrones</ng-template>
      @defer (on viewport) {
        <div class="pattern-section-div">
          <app-game-pattern-section-list/>
          <app-pattern-list-component [inGame]="true"/>
        </div>
      } @placeholder {
        <h1>Loading</h1>
      }
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Venta de Seriales</ng-template>
      @defer (on viewport) {
      <app-sale-panel/>
      } @placeholder {
        <h1>Loading</h1>
      }
    </mat-step>
  <mat-step>
    <ng-template matStepLabel>Personalizacion y Exportacion</ng-template>
    @defer (on viewport) {
      @if (gameService.gameCards().length < 1) {
        <h1>Adjunta un serial para poder exportarlo y/o personalizarlo</h1>
      } @else {
        <div>
          <button mat-button (click)="toggleView()" class="toggle-btn">
            <mat-icon>swap_horiz</mat-icon>
            {{ personalization ? 'Cambiar a Exportación' : 'Cambiar a Personalización' }}
          </button>

          @if (personalization) {
            <app-personalization-section></app-personalization-section>
          } @else {
            <app-exportation-section></app-exportation-section>
          }
        </div>
      }
    } @placeholder {
      <h1>Loading</h1>
    }
  </mat-step>
    <mat-step>
      <ng-template matStepLabel>Adjuntar premios</ng-template>
      @defer (on viewport) {
      <app-pattern-target-prize-section>></app-pattern-target-prize-section>
      } @placeholder {
        <h1>Loading</h1>
      }
    </mat-step>
</mat-stepper>


